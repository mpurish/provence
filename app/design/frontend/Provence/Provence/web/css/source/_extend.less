& when (@media-common = true) {
  body {
    font-family: 'Montserrat', sans-serif;
    background: #fff;
    color: #676564;
  }

  h1, h2, h3, h4 {
    font-family: 'Alice', serif;
  }

  .catalog-category-view {
    .sidebar-main {
      border: 2px solid #d2eada;
      border-radius: 20px;
      padding: 20px;
    }
  }

  #layered-filter-block {
    position: relative;
    margin-bottom: 15px;

    .filter-options-content .wp-ln-selected a {
      border: none;
      padding: inherit;
    }

    .filter-options-content {
      .wp-ln-selected {
        a {
          border: none;
          padding: inherit;
          font-style: normal;
        }

        .no--colour {
          background: #00A5E3;
          color: #fff;
          padding: .5em 10px;

          .filter--label {
            border-bottom: 1px dotted transparent;
          }
        }
      }
    }

    [data-attrcode="colours"] {
      .wp-ln-selected a {
        border: 2px solid #00A5E3 !important;
      }
    }
  }

  .filter-current {
    display: none;

    .filter-label {
      display: inline;
      font-weight: 400;
    }

    & + .filter-actions {
      position: absolute;
      bottom: 100%;
      right: 0;
      margin: 0;
      transform: translate(0, -100%);

      a {
        background: #f5f5f5;
        display: inline-block;
        padding: .5em 2em .5em 1em;
        border-radius: 20px;
        color: #666;
        position: relative;

        &:before,
        &:after {
          content: '';
          position: absolute;
          width: 2px;
          height: 12px;
          background: #aaa;
          right: 15px;
          top: 50%;
          transform: translate(0, -50%) rotate(45deg);
        }

        &:after {
          transform: translate(0, -50%) rotate(-45deg);
        }

        &:hover {
          text-decoration: none;

          //span {
          //  text-decoration: none;
          //}
        }
      }

      span {
        border-bottom: 1px dotted;
      }
    }
  }

  .filter-actions {
    //order: 1;
  }

  .filter-current-subtitle,
  .filter-title,
  .filter-subtitle {
    display: none;
  }

  .filter-options-content {
    ol {
      display: flex;
      flex-wrap: wrap;
    }

    li {
      width: 50%;
      margin-left: -10px;
    }

    .count {
      display: none;
    }

    .wp-ln-actions {
      width: 100%;
      text-align: center;
      position: relative;

      .icon-line-arrow-down {
        &:before {
          content: '';
          position: absolute;
          width: 20px;
          height: 20px;
          border: 2px solid #d1eada;
          border-top-color: transparent;
          border-radius: 50%;
          top: 50%;
          left: 50%;
          margin: -10px 0 0 -10px;
          animation: spin 800ms linear infinite;
        }

        &:after {
          content: none;
        }
      }
    }
  }

  @keyframes spin {
    from {
      transform:rotate(0deg);
    }
    to {
      transform:rotate(360deg);
    }
  }

  .filter-options-item {
    &[data-attrcode="price"],
    &[data-attrcode="default_categories"] {
      display: none;
    }

    &[data-attrcode="filtrable_categories"] {
      li {
        width: 100%;
      }
    }

    &[data-attrcode="sides"],
    &[data-attrcode="shine"],
    &[data-attrcode="style"],
    &[data-attrcode="gamma"] {
      .filter-options-title {
        display: none;
      }

      .filter-options-content {
        margin: 0 0 10px;
      }

      li {
        width: 100%;
      }
    }

    #wp_ln_attr_155_54 {
      display: none !important;
    }

    #wp_ln_attr_144_30,
    #wp_ln_attr_144_31,
    #wp_ln_attr_151_51{
      width: 100%;
    }

    &[data-attrcode="colours"] {
      .filter-options-content {
        margin: 0;
      }

      ol {
        flex-wrap: nowrap;
      }

      li {
        flex: 1;
        margin: 0 1px 0 0;
      }

      a {
        display: block;
        font-size: 0;
        width: 25px;
        height: 25px;
        border-radius: 50%;
        border: 2px solid #fff;
        position: relative;
        padding: 0;

        &:hover {
          .colour--tooltip {
            visibility: visible;
            opacity: 1;
          }
        }
      }

      .white {
        background: radial-gradient(circle at 6px 6px, #fff 0%, rgba(255, 255, 255, 0) 100%), linear-gradient(-45deg, #fbe7c7 0%, #fdf9f3 100%);

        &:before {
          content: '';
          position: absolute;
          top: -1px;
          right: -1px;
          bottom: -1px;
          left: -1px;
          border-radius: 50%;
          box-shadow: inset 0 0 1px #aaa;
          transform: scale(.95);
        }
      }

      .purple {
        background: radial-gradient(circle at 5px 2px, #fcd3fd 0, rgba(250, 200, 251, 0) 18px), linear-gradient(-45deg, #9755ab 0%, #febaff 100%);
      }

      .blue {
        background: radial-gradient(circle at 5px 2px, rgba(181, 231, 245, 1)  0, rgba(181, 231, 245, 0) 18px, rgba(181, 231, 245, 0) 20px), linear-gradient(-45deg, #638cbd 0%, #a4e1f3 100%);
      }

      .red {
        background: radial-gradient(circle at 25px 0px, rgba(255, 220, 15, .7) 0, rgba(255, 235, 59, 0) 20px, rgba(255, 235, 59, 0) 30px), linear-gradient(45deg, #c72f0c 0%, #f68c32 100%);
      }

      .yellow {
        background: radial-gradient(circle at 25px -2px, rgba(255, 249, 203, .6) 0, rgba(255, 249, 204, .6) 10px, rgba(255, 244, 166, 0) 25px), linear-gradient(45deg, #fbc226 0%, #fdf08d 100%);
      }

      .green {
        background: radial-gradient(circle at 5px 2px, rgba(204, 239, 146, .8) 0, rgba(181, 245, 192, 0) 18px, rgba(181, 245, 192, 0) 20px), linear-gradient(-45deg, #6ea00d 0%, #bcdd88 100%);
      }

      .black {
        background: radial-gradient(circle at 5px 2px, rgba(255, 255, 255, .4) 0, rgba(255, 255, 255, 0) 18px), linear-gradient(-45deg, #404040 0%, #cacaca 100%);
      }

      .brown {
        background: radial-gradient(circle at 25px 0px, #c33f18 0, rgba(255, 59, 59, 0) 20px, rgba(255, 59, 59, 0) 30px), linear-gradient(45deg, #6a2f00 0%, #b25100 100%);
      }

      .colour--tooltip {
        position: absolute;
        visibility: hidden;
        opacity: 0;
        font-size: 12px;
        width: 200px;
        background: #fff;
        bottom: 100%;
        left: 50%;
        transform: translate(-50%, -10px);
        text-align: center;
        border-radius: 5px;
        filter: drop-shadow(0 1px 2px rgba(21, 21, 21, 0.05)) drop-shadow(0 2px 5px rgba(21, 21, 21, 0.2)) drop-shadow(0 0 8px rgba(21, 21, 21, 0.08));
        //box-shadow: 0 0 2px 0.5px rgba(21, 21, 21, 0.05), 0 1px 5px 0 rgba(21, 21, 21, 0.15);
        padding: 10px;
        color: #666;
        transition: opacity 400ms, visibility 400ms;

        &:after {
          content: '';
          position: absolute;
          top: 100%;
          left: 50%;
          width: 0;
          height: 0;
          border-style: solid solid none;
          border-color: #fff transparent transparent;
          border-width: 5px 7px 0;
          transform: translate(-50%, 0);
        }
      }
    }

    a {
      display: inline-block;
      padding: .5em 10px;
      border-radius: 25px;

      &:hover {
        text-decoration: none;

        .filter--label {
          border-bottom: 1px dotted transparent;
        }
      }
    }

    .filter--label {
      border-bottom: 1px dotted currentColor;
    }
  }

  .filters--price-range {
    display: flex;
    flex-wrap: wrap;
    margin-right: 20px;

    input[type="text"] {
      width: 50%;
      border: none;
      outline: none;
      box-shadow: none;
      padding: 0;
      color: #676564;
      font-size: .95em;
    }

    #amountMax {
      text-align: right;
    }

    .ui-slider {
      width: 100%;
    }

    .ui-widget-content {
      background: #fff1e2;
      border: none;
      height: .4em;
      margin-top: 10px;
    }

    .ui-slider-range {
      background: #49bccc;
      height: 100%;
      position: absolute;
      border-radius: 2px;
    }

    .ui-slider-handle {
      width: 0;
      height: 0;
      border-left: 10px solid transparent;
      border-right: 10px solid transparent;
      border-top: 14px solid #ffb3c0;
      border-radius: 50%;
      background: transparent;
      border-bottom: none;
      top: -1em;
      margin-left: -10px;
      cursor: pointer;
      outline: none;
    }
  }

  .page-products {
    .products-grid {
      .product-item {
        margin-left: 20px;
      }
    }

    .product-item-info {
      width: 100%;
    }
  }


}

//@screen__xs: 480px
//@screen__s: 640px
//@screen__m: 768px
//@screen__l: 1024px
//@screen__xl: 1440px

.media-width(@extremum, @break) when (@extremum = 'min') and (@break = @screen__m) {
  .page-products {
    .products-grid {
      .product-item {
        width: calc(~'(100% - 20px) / 2');
        margin-left: 20px;
      }
    }
  }
}


.media-width(@extremum, @break) when (@extremum = 'min') and (@break = @screen__l) {
  .page-layout-2columns-right {
    .column {
      &.main {
        width: 75%;
        padding-right: 20px;
      }
    }

    .sidebar-main {
      width: 25%;
      padding: 20px 0 30px 20px;
    }
  }

  .page-products {
    .products-grid {
      .product-item {
        width: calc(~'(100% - 40px) / 3');
        margin-left: 20px;

        &:nth-child(4n + 1) {
          margin-left: 20px;
        }

        &:nth-child(3n + 1) {
          margin-left: 0;
        }
      }
    }
  }
}